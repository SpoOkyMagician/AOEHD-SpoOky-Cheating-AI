; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; (Priority 6) - Training Units
; Description: Train villagers, soldiers, siege, etc.
; Note: This is for a balanced AI. Feel free to experiment with this if you wish. However, I am going to stick with this.
; Note: This is a modified version to create cavalry units only.
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Dark Age
; Note: There is very little to train in this age so...
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Feudal Age
; Note: Let's get a balance of units out.
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total scout-cavalry-line < 450)
	(current-age == feudal-age)
	(can-train scout-cavalry-line)
	=>
	(train scout-cavalry-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Castle Age
; Note: Gonna balance it out a bit more...
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total scout-cavalry-line < 150)
	(current-age == castle-age)
	(can-train scout-cavalry-line)
	=>
	(train scout-cavalry-line)
)

(defrule
	(unit-type-count-total camel-line < 150)
	(current-age == castle-age)
	(can-train camel-line)
	=>
	(train camel-line)
)

(defrule
	(unit-type-count-total knight-line < 150)
	(current-age == castle-age)
	(can-train knight-line)
	=>
	(train knight-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: This is the unit creation loop. This is important. Once in imperial, start doing this from now on.
; Let's try to organize this create/counter unit stuff... infantry, archers, cavalry, siege, and finally buildings...
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: + CAVALRY
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: + CAVALRY - SCOUT CAVALRY
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total scout-cavalry-line < 125)
	(current-age >= imperial-age)
	(can-train scout-cavalry-line)
	=>
	(train scout-cavalry-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Let's counter!
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total scout-cavalry-line < 40)
	(current-age >= imperial-age)
	(can-train scout-cavalry-line)
	(players-unit-type-count any-enemy skirmisher-line >= 10)
	=>
	(train scout-cavalry-line)
)

(defrule
	(unit-type-count-total scout-cavalry-line < 40)
	(current-age >= imperial-age)
	(can-train scout-cavalry-line)
	(players-unit-type-count any-enemy monk >= 10)
	=>
	(train scout-cavalry-line)
)

(defrule
	(unit-type-count-total scout-cavalry-line < 40)
	(current-age >= imperial-age)
	(can-train scout-cavalry-line)
	(players-unit-type-count any-enemy missionary >= 10)
	=>
	(train scout-cavalry-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: + CAVALRY - KNIGHT
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total knight-line < 125)
	(current-age >= imperial-age)
	(can-train knight-line)
	=>
	(train knight-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Let's counter!
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total knight-line < 40)
	(current-age >= imperial-age)
	(can-train knight-line)
	(players-unit-type-count any-enemy archer-line >= 10)
	=>
	(train knight-line)
)

(defrule
	(unit-type-count-total knight-line < 40)
	(current-age >= imperial-age)
	(can-train knight-line)
	(players-unit-type-count any-enemy skirmisher-line >= 10)
	=>
	(train knight-line)
)

(defrule
	(unit-type-count-total knight-line < 40)
	(current-age >= imperial-age)
	(can-train knight-line)
	(players-unit-type-count any-enemy monk >= 10)
	=>
	(train knight-line)
)

(defrule
	(unit-type-count-total knight-line < 40)
	(current-age >= imperial-age)
	(can-train knight-line)
	(players-unit-type-count any-enemy missionary >= 10)
	=>
	(train knight-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: + CAVALRY - CAMEL
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total camel-line < 125)
	(current-age >= imperial-age)
	(can-train camel-line)
	=>
	(train camel-line)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Let's counter!
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(unit-type-count-total camel-line < 40)
	(current-age >= imperial-age)
	(can-train camel-line)
	(players-unit-type-count any-enemy scout-cavalry-line >= 10)
	=>
	(train camel-line)
)

(defrule
	(unit-type-count-total camel-line < 40)
	(current-age >= imperial-age)
	(can-train camel-line)
	(players-unit-type-count any-enemy knight-line >= 10)
	=>
	(train camel-line)
)

(defrule
	(unit-type-count-total camel-line < 40)
	(current-age >= imperial-age)
	(can-train camel-line)
	(players-unit-type-count any-enemy camel-line >= 10)
	=>
	(train camel-line)
)