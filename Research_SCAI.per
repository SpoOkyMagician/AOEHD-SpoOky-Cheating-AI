; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; (Priority 4) - Research
; Description: All the research you will ever need in the game. This is going to be very long...
; Note: DO NOT USE ri- for unique stuff! It doesn't work! Use my-unique-research and my-unique-unit-upgrade instead.
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Notice that I do not disable many of these below. I found if they are disabled and fail, they are never triggered again. (Be careful with the disable-self.)
; When using conditionals that loop forever, you should not use chat related things. The chat sound will be repeated in a loop. (It will get on your nerves.) I leave them out for most research/units/buildings.
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Let's sort this by age/importance...
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; DARK AGE
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed feudal-age))
	(can-research feudal-age)
	=>
	(research feudal-age)
)

(defrule
	(not(research-completed ri-loom))
	(can-research ri-loom)
	=>
	(research ri-loom)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; FEUDAL AGE
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed castle-age))
	(can-research castle-age)
	=>
	(research castle-age)
)

(defrule
	(not(research-completed ri-wheel-barrow))
	(can-research ri-wheel-barrow)
	=>
	(research ri-wheel-barrow)
)

(defrule
	(not(research-completed ri-double-bit-axe))
	(can-research ri-double-bit-axe)
	=>
	(research ri-double-bit-axe)
)

(defrule
	(not(research-completed ri-horse-collar))
	(can-research ri-horse-collar)
	=>
	(research ri-horse-collar)
)

(defrule
	(not(research-completed ri-gold-mining))
	(can-research ri-gold-mining)
	=>
	(research ri-gold-mining)
)

(defrule
	(not(research-completed ri-stone-mining))
	(can-research ri-stone-mining)
	=>
	(research ri-stone-mining)
)

(defrule
	(not(research-completed ri-man-at-arms))
	(can-research ri-man-at-arms)
	=>
	(research ri-man-at-arms)
)

(defrule
	(not(research-completed ri-scale-mail))
	(can-research ri-scale-mail)
	=>
	(research ri-scale-mail)
)

(defrule
	(not(research-completed ri-padded-archer-armor))
	(can-research ri-padded-archer-armor)
	=>
	(research ri-padded-archer-armor)
)

(defrule
	(not(research-completed ri-scale-barding))
	(can-research ri-scale-barding)
	=>
	(research ri-scale-barding)
)

(defrule
	(not(research-completed ri-forging))
	(can-research ri-forging)
	=>
	(research ri-forging)
)

(defrule
	(not(research-completed ri-fletching))
	(can-research ri-fletching)
	=>
	(research ri-fletching)
)

(defrule
	(not(research-completed ri-bloodlines))
	(can-research ri-bloodlines)
	=>
	(research ri-bloodlines)
)

(defrule
	(not(research-completed ri-tracking))
	(can-research ri-tracking)
	=>
	(research ri-tracking)
)

(defrule
	(not(research-completed ri-cartography))
	(can-research ri-cartography)
	=>
	(research ri-cartography)
)

(defrule
	(not(research-completed ri-town-watch))
	(can-research ri-town-watch)
	=>
	(research ri-town-watch)
)

(defrule
	(not(research-completed ri-coinage))
	(can-research ri-coinage)
	=>
	(research ri-coinage)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; CASTLE AGE
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed imperial-age))
	(can-research imperial-age)
	=>
	(research imperial-age)
)

(defrule
	(not(research-completed ri-hand-cart))
	(can-research ri-hand-cart)
	=>
	(research ri-hand-cart)
)

(defrule
	(not(research-completed ri-bow-saw))
	(can-research ri-bow-saw)
	=>
	(research ri-bow-saw)
)

(defrule
	(not(research-completed ri-heavy-plow))
	(can-research ri-heavy-plow)
	=>
	(research ri-heavy-plow)
)

(defrule
	(not(research-completed ri-gold-shaft-mining))
	(can-research ri-gold-shaft-mining)
	=>
	(research ri-gold-shaft-mining)
)

(defrule
	(not(research-completed ri-stone-shaft-mining))
	(can-research ri-stone-shaft-mining)
	=>
	(research ri-stone-shaft-mining)
)

(defrule
	(not(research-completed ri-chain-mail))
	(can-research ri-chain-mail)
	=>
	(research ri-chain-mail)
)

(defrule
	(not(research-completed ri-leather-archer-armor))
	(can-research ri-leather-archer-armor)
	=>
	(research ri-leather-archer-armor)
)

(defrule
	(not(research-completed ri-chain-barding))
	(can-research ri-chain-barding)
	=>
	(research ri-chain-barding)
)

(defrule
	(not(research-completed ri-iron-casting))
	(can-research ri-iron-casting)
	=>
	(research ri-iron-casting)
)

(defrule
	(not(research-completed ri-bodkin-arrow))
	(can-research ri-bodkin-arrow)
	=>
	(research ri-bodkin-arrow)
)

(defrule
	(not(research-completed ri-crossbow))
	(can-research ri-crossbow)
	=>
	(research ri-crossbow)
)

(defrule
	(not(research-completed ri-elite-skirmisher))
	(can-research ri-elite-skirmisher)
	=>
	(research ri-elite-skirmisher)
)

(defrule
	(not(research-completed ri-long-swordsman))
	(can-research ri-long-swordsman)
	=>
	(research ri-long-swordsman)
)

(defrule
	(not(research-completed ri-pikeman))
	(can-research ri-pikeman)
	=>
	(research ri-pikeman)
)

(defrule
	(not(research-completed ri-light-cavalry))
	(can-research ri-light-cavalry)
	=>
	(research ri-light-cavalry)
)

(defrule
	(not(research-completed ri-squires))
	(can-research ri-squires)
	=>
	(research ri-squires)
)

(defrule
	(not(research-completed ri-thumb-ring))
	(can-research ri-thumb-ring)
	=>
	(research ri-thumb-ring)
)

(defrule
	(not(research-completed ri-husbandry))
	(can-research ri-husbandry)
	=>
	(research ri-husbandry)
)

;(defrule
;	(not(research-completed ri-redemption))
;	(can-research ri-redemption)
;	=>
;	(research ri-redemption)
;)

(defrule
	(not(research-completed ri-fervor))
	(can-research ri-fervor)
	=>
	(research ri-fervor)
)

(defrule
	(not(research-completed ri-sanctity))
	(can-research ri-sanctity)
	=>
	(research ri-sanctity)
)

(defrule
	(not(research-completed ri-atonement))
	(can-research ri-atonement)
	=>
	(research ri-atonement)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Herbal Medicine seems to be 441. I found this in another AI. (I have yet to find a way to figure out the research constants yet...)
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed 441))
	(can-research 441)
	=>
	(research 441)
)

;(defrule
;	(not(research-completed ri-heresy))
;	(can-research ri-heresy)
;	=>
;	(research ri-heresy)
;)

(defrule
	(not(research-completed ri-ballistics))
	(can-research ri-ballistics)
	=>
	(research ri-ballistics)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: stonecutting i believe is treadmill-crane. Dunno why they named it this...
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed ri-stonecutting))
	(can-research ri-stonecutting)
	=>
	(research ri-stonecutting)
)

(defrule
	(not(research-completed ri-masonry))
	(can-research ri-masonry)
	=>
	(research ri-masonry)
)

;(defrule
;	(not(research-completed ri-fortified-wall))
;	(can-research ri-fortified-wall)
;	=>
;	(research ri-fortified-wall)
;)

(defrule
	(not(research-completed ri-guard-tower))
	(can-research ri-guard-tower)
	=>
	(research ri-guard-tower)
)

(defrule
	(not(research-completed ri-murder-holes))
	(can-research ri-murder-holes)
	=>
	(research ri-murder-holes)
)

(defrule
	(not(research-completed ri-heated-shot))
	(can-research ri-heated-shot)
	=>
	(research ri-heated-shot)
)

(defrule
	(not(research-completed ri-caravan))
	(can-research ri-caravan)
	=>
	(research ri-caravan)
)

(defrule
	(not(research-completed ri-banking))
	(can-research ri-banking)
	=>
	(research ri-banking)
)

(defrule
	(not(research-completed ri-town-patrol))
	(can-research ri-town-patrol)
	=>
	(research ri-town-patrol)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; IMPERIAL AGE
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed ri-two-man-saw))
	(can-research ri-two-man-saw)
	=>
	(research ri-two-man-saw)
)

(defrule
	(not(research-completed ri-crop-rotation))
	(can-research ri-crop-rotation)
	=>
	(research ri-crop-rotation)
)

(defrule
	(not(research-completed ri-plate-mail))
	(can-research ri-plate-mail)
	=>
	(research ri-plate-mail)
)

(defrule
	(not(research-completed ri-ring-archer-armor))
	(can-research ri-ring-archer-armor)
	=>
	(research ri-ring-archer-armor)
)

(defrule
	(not(research-completed ri-plate-barding))
	(can-research ri-plate-barding)
	=>
	(research ri-plate-barding)
)

(defrule
	(not(research-completed ri-blast-furnace))
	(can-research ri-blast-furnace)
	=>
	(research ri-blast-furnace)
)

(defrule
	(not(research-completed ri-bracer))
	(can-research ri-bracer)
	=>
	(research ri-bracer)
)

(defrule
	(not(research-completed ri-arbalest))
	(can-research ri-arbalest)
	=>
	(research ri-arbalest)
)

(defrule
	(not(research-completed ri-hand-cannon))
	(can-research ri-hand-cannon)
	=>
	(research ri-hand-cannon)
)

(defrule
	(not(research-completed ri-heavy-cavalry-archer))
	(can-research ri-heavy-cavalry-archer)
	=>
	(research ri-heavy-cavalry-archer)
)

(defrule
	(not(research-completed ri-halberdier))
	(can-research ri-halberdier)
	=>
	(research ri-halberdier)
)

(defrule
	(not(research-completed ri-two-handed-swordsman))
	(can-research ri-two-handed-swordsman)
	=>
	(research ri-two-handed-swordsman)
)

(defrule
	(not(research-completed ri-champion))
	(can-research ri-champion)
	=>
	(research ri-champion)
)

(defrule
	(not(research-completed ri-elite-eagle-warrior))
	(can-research ri-elite-eagle-warrior)
	=>
	(research ri-elite-eagle-warrior)
)

(defrule
	(not(research-completed ri-cavalier))
	(can-research ri-cavalier)
	=>
	(research ri-cavalier)
)

(defrule
	(not(research-completed ri-paladin))
	(can-research ri-paladin)
	=>
	(research ri-paladin)
)

(defrule
	(not(research-completed ri-hussar))
	(can-research ri-hussar)
	=>
	(research ri-hussar)
)

(defrule
	(not(research-completed ri-heavy-camel))
	(can-research ri-heavy-camel)
	=>
	(research ri-heavy-camel)
)

(defrule
	(not(research-completed ri-capped-ram))
	(can-research ri-capped-ram)
	=>
	(research ri-capped-ram)
)

(defrule
	(not(research-completed ri-siege-ram))
	(can-research ri-siege-ram)
	=>
	(research ri-siege-ram)
)

(defrule
	(not(research-completed ri-heavy-scorpion))
	(can-research ri-heavy-scorpion)
	=>
	(research ri-heavy-scorpion)
)

(defrule
	(not(research-completed ri-onager))
	(can-research ri-onager)
	=>
	(research ri-onager)
)

(defrule
	(not(research-completed ri-siege-onager))
	(can-research ri-siege-onager)
	=>
	(research ri-siege-onager)
)

(defrule
	(not(research-completed ri-parthian-tactics))
	(can-research ri-parthian-tactics)
	=>
	(research ri-parthian-tactics)
)

(defrule
	(not(research-completed ri-block-printing))
	(can-research ri-block-printing)
	=>
	(research ri-block-printing)
)

(defrule
	(not(research-completed ri-illumination))
	(can-research ri-illumination)
	=>
	(research ri-illumination)
)

(defrule
	(not(research-completed ri-faith))
	(can-research ri-faith)
	=>
	(research ri-faith)
)

(defrule
	(not(research-completed ri-theocracy))
	(can-research ri-theocracy)
	=>
	(research ri-theocracy)
)

(defrule
	(not(research-completed my-unique-research))
	(can-research my-unique-research)
	=>
	(research my-unique-research)
)

(defrule
	(not(research-completed my-unique-unit-upgrade))
	(can-research my-unique-unit-upgrade)
	=>
	(research my-unique-unit-upgrade)
)

(defrule
	(not(research-completed ri-architecture))
	(can-research ri-architecture)
	=>
	(research ri-architecture)
)

(defrule
	(not(research-completed ri-chemistry))
	(can-research ri-chemistry)
	=>
	(research ri-chemistry)
)

(defrule
	(not(research-completed ri-bombard-tower))
	(can-research ri-bombard-tower)
	=>
	(research ri-bombard-tower)
)

(defrule
	(not(research-completed ri-siege-engineers))
	(can-research ri-siege-engineers)
	=>
	(research ri-siege-engineers)
)

(defrule
	(not(research-completed ri-keep))
	(can-research ri-keep)
	=>
	(research ri-keep)
)

(defrule
	(not(research-completed ri-hoardings))
	(can-research ri-hoardings)
	=>
	(research ri-hoardings)
)

(defrule
	(not(research-completed ri-sappers))
	(can-research ri-sappers)
	=>
	(research ri-sappers)
)

(defrule
	(not(research-completed ri-conscription))
	(can-research ri-conscription)
	=>
	(research ri-conscription)
)

; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
; Note: Spies seems to be 408. I found this in another AI. (I have yet to find a way to figure out the research constants yet...)
; ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

(defrule
	(not(research-completed 408))
	(can-research 408)
	=>
	(research 408)
)

(defrule
	(not(research-completed ri-guilds))
	(can-research ri-guilds)
	=>
	(research ri-guilds)
)